# Test Design: Story 1.4

Date: 2025-09-15
Designer: Quinn (Test Architect)

## Test Strategy Overview

- Total test scenarios: 9
- Unit tests: 2 (~22%)
- Integration tests: 4 (~44%)
- E2E tests: 3 (~33%)
- Priority distribution: P0: 5, P1: 3, P2: 1

## Test Scenarios by Acceptance Criteria

### AC1: Le route `/admin/dashboard` e `/chat` sono definite

#### Scenarios

| ID           | Level       | Priority | Test                                                      | Justification                       |
| ------------ | ----------- | -------- | --------------------------------------------------------- | ----------------------------------- |
| 1.4-UNIT-001 | Unit        | P2       | Router configura percorsi `/admin/dashboard` e `/chat`    | Pure routing configuration          |
| 1.4-E2E-001  | E2E         | P1       | Navigazione diretta alle route mostra placeholder corretti| User journey basic route presence   |

### AC2: `/admin/dashboard` protetta (solo admin)

#### Scenarios

| ID           | Level       | Priority | Test                                                          | Justification                     |
| ------------ | ----------- | -------- | ------------------------------------------------------------- | --------------------------------- |
| 1.4-INT-001  | Integration | P0       | Guard `RequireAdmin` reindirizza a `/` senza sessione admin   | Multi-component guard logic       |
| 1.4-E2E-002  | E2E         | P0       | Utente non admin tenta accesso â†’ redirect a `/`               | Critical security path            |

### AC3: `/chat` protetta (solo studente autenticato)

#### Scenarios

| ID           | Level       | Priority | Test                                                          | Justification                     |
| ------------ | ----------- | -------- | ------------------------------------------------------------- | --------------------------------- |
| 1.4-INT-002  | Integration | P0       | Guard `RequireAuth` reindirizza a `/` senza sessione studente | Multi-component guard logic       |
| 1.4-E2E-003  | E2E         | P0       | Studente autenticato accede a `/chat`                         | Critical user journey             |

### AC4: Placeholder su pagine protette

#### Scenarios

| ID           | Level       | Priority | Test                                                       | Justification                     |
| ------------ | ----------- | -------- | ---------------------------------------------------------- | --------------------------------- |
| 1.4-INT-003  | Integration | P1       | Placeholder `AdminDashboard` renderizzato                   | Component + route integration     |
| 1.4-INT-004  | Integration | P1       | Placeholder `ChatPage` renderizzato                         | Component + route integration     |

## Risk Coverage

- Security access control (P0) coperto da INT/E2E (1.4-INT-001, -002; 1.4-E2E-002, -003).
- Routing regressions mitigati con E2E (1.4-E2E-001).

## Recommended Execution Order

1. P0 Integration tests (1.4-INT-001, 1.4-INT-002)
2. P0 E2E tests (1.4-E2E-002, 1.4-E2E-003)
3. P1 Integration tests (1.4-INT-003, 1.4-INT-004)
4. P1 E2E test (1.4-E2E-001)
5. P2 Unit test (1.4-UNIT-001)

