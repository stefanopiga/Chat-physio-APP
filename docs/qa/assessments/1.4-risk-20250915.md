# Risk Profile: Story 1.4

Date: 2025-09-15
Reviewer: Quinn (Test Architect)

## Executive Summary

- Total Risks Identified: 2
- Critical Risks: 0
- High Risks: 0
- Risk Score: 96/100

## Critical Risks Requiring Immediate Attention

Nessuna

## Risk Distribution

### By Category

- Security: 1 (0 critical)
- Operational: 1 (0 critical)

### By Component

- Frontend: 2

## Detailed Risk Register

| Risk ID  | Description                                           | Probability | Impact | Score | Priority |
| -------- | ----------------------------------------------------- | ----------- | ------ | ----- | -------- |
| SEC-001  | Bypass guard `/admin/dashboard` da sessione incoerente| Medium (2)  | Medium (2) | 4   | Medium   |
| OPS-001  | Regressioni routing in assenza di test E2E separati   | Low (1)     | Medium (2) | 2   | Low      |

### Mitigations

- SEC-001
  - Strategy: preventive
  - Actions:
    - Validare ruolo admin dalla sessione `supabase-js` e fallback a fetch `/api/admin/me`
    - Bloccare render finché lo stato auth non è determinato
  - Testing requirements:
    - INT: guard redirect senza sessione/ruolo, E2E: tentativo accesso non admin
  - Residual risk: Low
  - Owner: dev
  - Timeline: prima del merge

- OPS-001
  - Strategy: preventive
  - Actions:
    - Mantenere test E2E distinti per admin vs studente
    - Aggiungere check di rotta 404 per rotte sconosciute
  - Testing requirements:
    - E2E: verifica presenza placeholder e redirect corretti
  - Residual risk: Low
  - Owner: dev
  - Timeline: prima del merge

## Risk-Based Testing Strategy

### Priority 1: Critical/High (none)

### Priority 2: Medium
- INT: 1.4-INT-001, 1.4-INT-002

### Priority 3: Low
- E2E: 1.4-E2E-001, 1.4-E2E-002, 1.4-E2E-003

## Monitoring Requirements

- Loggare tentativi di accesso a route protette e redirect per diagnosi.

