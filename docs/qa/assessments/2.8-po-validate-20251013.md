# Story Validation — Story 2.8: Ripristino Infrastruttura Esterna e P95 Reale

Data: 2025-10-13  
Revisore: Sarah (Product Owner)

## Summary

- Status: **Needs Updates**
- Blocking Issues: 2
- Observations: 3

## Findings & Required Updates

### 1. Chiarezza sugli ambienti target (Blocking)
- **Riferimento:** `docs/stories/2.8.external-infrastructure-restore-and-p95-validation.md` — sezione "Tasks Fase 0" e Acceptance Criteria 1-3.
- **Problema:** La story parla di "ambiente test/staging" ma non specifica se si tratta di un singolo ambiente condiviso o due ambienti separati. Inoltre, non vengono esplicitati i naming/ID degli ambienti (es. Supabase project name, prefix secrets) che devono essere usati nella pipeline. Questa ambiguità può creare confusione per i dev e per chi gestisce i secrets CI.
- **Impatto:** Potenziali errori di configurazione, soprattutto se esiste solo staging o se test/staging hanno credenziali differenti.
- **Richiesta:** Aggiungere una sezione "Environment Definition" che chiarisca il target principale (es. staging condiviso) e come differenziare eventuali ambienti test locali vs pipeline (naming secrets `TEST_*`).

### 2. Deliverables incompleti per evidenze P95 (Blocking)
- **Riferimento:** Story — sezione "Deliverables" e AC3.3.
- **Problema:** L'AC3.3 richiede raccolta P95 reale e screenshot dashboard, ma nei deliverable elencati mancano i percorsi proposti per: screenshot Supabase, log E2E, eventuali file CSV/JSON di output k6. Senza percorsi chiari, si rischia frammentazione.
- **Richiesta:** Aggiornare "Deliverables" con una struttura esplicita: es. `docs/screenshots/p95-dashboard-YYYYMMDD.png`, `reports/p95_k6_YYYYMMDD.json`, `reports/e2e-run-YYYYMMDD.log`. Inoltre, specificare se l'output E2E (JUnit/HTML) va archiviato.

### 3. Allineamento con report esistenti (Observation)
- Story menziona aggiornare `docs/reports/rag-production-readiness-summary.md`. Suggerisco di chiarire se l'aggiornamento avviene a fine story o dopo ogni run importante, per evitare conflitti di merge.

### 4. Dipendenze non nominalizzate (Observation)
- Acceptance Criteria richiedono "retry/backoff" e "alert" ma non indicano se esistono già ticket o tool da usare (es. GitHub Actions, Grafana). Sarebbe utile un riferimento rapido ai componenti in uso.

### 5. Testing scope (Observation)
- La sezione "Tasks" include molte attività manuali. Valutare se includere una checklist DoD o rimandare alla test-design per evitare duplicazioni.

## Decision

- **Esito:** CONCERNS — richiede chiarimenti prima di Ready for Dev.

## Next Actions

1. Aggiornare la story con la sezione "Environment Definition" e percorsi deliverables.  
2. Dopo l’aggiornamento, rieseguire la validazione PO per confermare l’allineamento.

---
Hook: `PO validation: docs/qa/assessments/2.8-po-validate-20251013.md`

