# Risk Profile: Story 3.5 — In-App User Guide

Date: 2025-09-30 [Fonte: user_info Current Date]
Reviewer: not available in source

## Executive Summary

- Total Risks Identified: 5
- Critical Risks: 0
- High Risks: 2
- Medium Risks: 2
- Low Risks: 1
- Risk Score: 27 (aggregato da somma punteggi individuali)

## Critical Risks Requiring Immediate Attention

NESSUNO. Il prerequisito tecnico bloccante (Refactoring Tailwind CSS + Shadcn/UI) risulta completato con status "Done". [Fonte: `docs/stories/tech.refactoring-tailwind-shadcn.md` L3]

## Risk Distribution

### By Category

- Technical: 4
- Operational: 1
- Security: 0
- Performance: 0
- Business: 0

### By Component

- Frontend: 5
- Backend: 0
- Database: 0
- Infrastructure: 0

## Detailed Risk Register

| Risk ID | Description | Probability | Impact | Score | Priority | Mitigation | Sources |
| ------- | ----------- | ----------- | ------ | ----- | -------- | ---------- | ------- |
| R-3.5-1 | Implementazione incompleta accessibilità dialog (role="dialog", focus trap, aria-labelledby, Esc handler, click-outside) | High (3) | High (3) | 9 | High | Usare componente Dialog Shadcn/UI con configurazione accessibilità completa; test con screen reader NVDA/VoiceOver; verifica focus trap e chiusura con Esc | `docs/stories/3.5.in-app-user-guide.md` L23, L52; `docs/front-end-spec.md` L227–L243 |
| R-3.5-2 | Theming Light/Dark non funzionante: uso colori hard-coded invece di variabili semantiche | High (3) | High (3) | 9 | High | Usare esclusivamente variabili CSS semantiche Shadcn/UI (background, foreground, card, muted); test visivo nei due temi; rimuovere ogni riferimento a valori hex o rgb diretti | `docs/stories/3.5.in-app-user-guide.md` L22, L40–L43, L55; `docs/prompt-for-lovable_V0.md` L50–L53 |
| R-3.5-3 | Test E2E non formalmente definiti per apertura/chiusura modale e presenza contenuti | Medium (2) | Medium (2) | 4 | Medium | Creare test E2E Playwright con scenari: apertura via click icona, chiusura con Esc/click outside, verifica presenza testo guida; integrare in CI | `docs/stories/3.5.in-app-user-guide.md` L53–L56 |
| R-3.5-4 | Gestione focus trap nel modale non implementata (focus rimane fuori dal dialog quando aperto) | Medium (2) | Medium (2) | 4 | Medium | Usare Dialog Shadcn/UI che gestisce focus trap nativamente; verificare che focus si sposti sul primo elemento interattivo all'apertura | `docs/front-end-spec.md` L233, L236, L240 |
| R-3.5-5 | Posizionamento icona "Aiuto" non definito (rischio interfaccia intrusiva o poco visibile) | Low (1) | Medium (2) | 2 | Low | Posizionare icona in area header/toolbar non intrusiva (es. top-right); testare visibilità e accessibilità da tastiera con tab-order logico | `docs/stories/3.5.in-app-user-guide.md` L15, L48–L49 |

## Risk-Based Testing Strategy

### High Priority Tests (Pre-Gate)
1. **Accessibilità Dialog**: Navigazione da tastiera completa (Tab, Shift+Tab, Esc); screen reader annuncia ruolo dialog e contenuto; focus trap funzionante.
2. **Theming**: Rendering corretto in Light e Dark mode; verifica assenza colori hard-coded con ispezione CSS; contrasto WCAG AA rispettato.

### Medium Priority Tests (Pre-Release)
3. **Test E2E**: Apertura modale via click icona; chiusura con Esc e click outside; presenza contenuti testuali da `Guida-Rapida-a-FisioRAG.md`.
4. **Focus Management**: Focus si sposta nel dialog all'apertura; focus ritorna all'elemento trigger alla chiusura.

### Low Priority Tests (Continuous)
5. **Posizionamento UI**: Icona visibile su vari viewport; tab-order logico e non intrusivo.

[Fonti: `docs/front-end-spec.md` Sez. 7 L243–L248; `docs/stories/3.5.in-app-user-guide.md` L53–L56]

## Monitoring Requirements

- **Build-time**: Linter accessibilità (es. eslint-plugin-jsx-a11y) attivo su tutti i componenti dialog.
- **CI/CD**: Test E2E Playwright eseguiti su PR e commit a main.
- **Manual**: Test screen reader (NVDA/VoiceOver) prima di ogni release.

[Fonte: `docs/front-end-spec.md` L244–L248]

## Gate YAML Block

```yaml
risk_summary:
  totals:
    critical: 0
    high: 2
    medium: 2
    low: 1
  recommendations:
    must_fix:
      - R-3.5-1: "Implementazione accessibilità dialog completa (role, focus trap, Esc, aria)"
      - R-3.5-2: "Theming Light/Dark con variabili semantiche (no hard-coded)"
    monitor:
      - R-3.5-3: "Test E2E per modale (apertura, chiusura, contenuti)"
      - R-3.5-4: "Focus management nel dialog"
```

## Review Hook

```
Risk profile: docs/qa/assessments/3.5-risk-20250930.md
```

## Sources

- `docs/stories/3.5.in-app-user-guide.md` (requisiti story, acceptance criteria, vincoli UI)
- `docs/stories/tech.refactoring-tailwind-shadcn.md` (stato prerequisito tecnico)
- `docs/front-end-spec.md` Sez. 7 L227–L248 (accessibilità, testing)
- `docs/prompt-for-lovable_V0.md` L50–L55, L59 (theming, Tailwind, Shadcn/UI)
- `Guida-Rapida-a-FisioRAG.md` (contenuti guida utente)
